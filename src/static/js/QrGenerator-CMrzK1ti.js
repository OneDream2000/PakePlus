import{d as K,r as u,i as z,h as J,c as m,a as s,P as l,H as a,ag as n,o as p,O,a6 as X,J as Q,a4 as Y,L as r,I as Z,G as ee,Q as le,M as oe}from"./@vue-ECGHl1WJ.js";import{Q as ae}from"./qrcode-CskJyj4K.js";import{_ as te}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./crypto-js-BfKzHq-Y.js";import"./dijkstrajs-C00ieaqj.js";const ne={class:"qr-generator-container"},ue={class:"card-header"},se={class:"content-type-selector"},de={class:"content-input"},re={key:0,class:"additional-input"},ie={key:1,class:"additional-input"},ve={key:2,class:"additional-input"},pe={class:"wifi-options"},me={class:"qr-options"},ce={class:"card-header"},_e={class:"qr-preview"},fe=["src"],Ve=K({__name:"QrGenerator",setup(be){const t=u(""),f=u(200),V=u("#000000"),b=u("#FFFFFF"),w=u("M"),k=u(4),i=u(""),y=u(null),U=async()=>{if(!(!t.value||!y.value))try{const d={width:f.value,margin:k.value,color:{dark:V.value,light:b.value},errorCorrectionLevel:w.value};await ae.toCanvas(y.value,t.value,d),i.value=y.value.toDataURL("image/png")}catch(d){console.error("生成二维码出错:",d)}};z([t,f,V,b,w,k],()=>{t.value&&U()}),J(()=>{t.value&&U()});const H=()=>{if(!i.value)return;const d=document.createElement("a");d.href=i.value,d.download="qrcode.png",document.body.appendChild(d),d.click(),document.body.removeChild(d)},N=()=>{t.value="",i.value=""},I=[{label:"文本",value:"text",placeholder:"输入文本内容"},{label:"网址",value:"url",placeholder:"输入网址，例如：https://example.com"},{label:"电话",value:"tel",placeholder:"输入电话号码，例如：13812345678"},{label:"短信",value:"sms",placeholder:"输入手机号码"},{label:"邮箱",value:"email",placeholder:"输入邮箱地址"},{label:"Wi-Fi",value:"wifi",placeholder:"输入Wi-Fi名称"}],v=u("text"),C=u(""),x=u(""),F=u("WPA"),W=u(!1),g=u(""),L=()=>{switch(v.value){case"url":t.value.startsWith("http")||(t.value="https://"+t.value);break;case"tel":t.value="tel:"+t.value;break;case"sms":t.value="smsto:"+t.value,C.value&&(t.value+=":"+C.value);break;case"email":t.value="mailto:"+t.value,g.value&&(t.value+="?subject="+encodeURIComponent(g.value));break;case"wifi":t.value=`WIFI:T:${F.value};S:${t.value};P:${x.value};H:${W.value?"true":"false"};`;break}U()};return(d,e)=>{const h=n("el-button"),c=n("el-radio-button"),B=n("el-radio-group"),q=n("el-input"),P=n("el-option"),$=n("el-select"),D=n("el-checkbox"),E=n("el-slider"),_=n("el-form-item"),M=n("el-color-picker"),G=n("el-form"),S=n("el-card"),T=n("el-col"),R=n("el-empty"),j=n("el-row");return p(),m("div",ne,[e[23]||(e[23]=s("h1",null,"二维码生成器",-1)),l(j,{gutter:20},{default:a(()=>[l(T,{span:14},{default:a(()=>[l(S,{class:"qr-input-card"},{header:a(()=>[s("div",ue,[e[14]||(e[14]=s("span",null,"二维码内容",-1)),s("div",null,[l(h,{type:"primary",onClick:L},{default:a(()=>e[12]||(e[12]=[r("生成")])),_:1}),l(h,{onClick:N},{default:a(()=>e[13]||(e[13]=[r("清空")])),_:1})])])]),default:a(()=>{var A;return[s("div",se,[l(B,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=o=>v.value=o)},{default:a(()=>[(p(),m(O,null,X(I,o=>l(c,{key:o.value,label:o.value},{default:a(()=>[r(oe(o.label),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),s("div",de,[l(q,{modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value=o),placeholder:((A=I.find(o=>o.value===v.value))==null?void 0:A.placeholder)||"输入内容",onKeyup:Y(L,["enter"])},null,8,["modelValue","placeholder"]),v.value==="sms"?(p(),m("div",re,[l(q,{modelValue:C.value,"onUpdate:modelValue":e[2]||(e[2]=o=>C.value=o),type:"textarea",rows:3,placeholder:"输入短信内容（可选）"},null,8,["modelValue"])])):Q("",!0),v.value==="email"?(p(),m("div",ie,[l(q,{modelValue:g.value,"onUpdate:modelValue":e[3]||(e[3]=o=>g.value=o),placeholder:"输入邮件主题（可选）"},null,8,["modelValue"])])):Q("",!0),v.value==="wifi"?(p(),m("div",ve,[l(q,{modelValue:x.value,"onUpdate:modelValue":e[4]||(e[4]=o=>x.value=o),placeholder:"输入Wi-Fi密码（可选）","show-password":""},null,8,["modelValue"]),s("div",pe,[l($,{modelValue:F.value,"onUpdate:modelValue":e[5]||(e[5]=o=>F.value=o)},{default:a(()=>[l(P,{label:"WPA/WPA2",value:"WPA"}),l(P,{label:"WEP",value:"WEP"}),l(P,{label:"无密码",value:"nopass"})]),_:1},8,["modelValue"]),l(D,{modelValue:W.value,"onUpdate:modelValue":e[6]||(e[6]=o=>W.value=o)},{default:a(()=>e[15]||(e[15]=[r("隐藏网络")])),_:1},8,["modelValue"])])])):Q("",!0)]),s("div",me,[e[20]||(e[20]=s("h3",null,"二维码选项",-1)),l(G,{"label-position":"top"},{default:a(()=>[l(_,{label:"尺寸"},{default:a(()=>[l(E,{modelValue:f.value,"onUpdate:modelValue":e[7]||(e[7]=o=>f.value=o),min:100,max:500,step:10,"show-input":""},null,8,["modelValue"])]),_:1}),l(_,{label:"前景色"},{default:a(()=>[l(M,{modelValue:V.value,"onUpdate:modelValue":e[8]||(e[8]=o=>V.value=o),"show-alpha":""},null,8,["modelValue"])]),_:1}),l(_,{label:"背景色"},{default:a(()=>[l(M,{modelValue:b.value,"onUpdate:modelValue":e[9]||(e[9]=o=>b.value=o),"show-alpha":""},null,8,["modelValue"])]),_:1}),l(_,{label:"错误修正级别"},{default:a(()=>[l(B,{modelValue:w.value,"onUpdate:modelValue":e[10]||(e[10]=o=>w.value=o)},{default:a(()=>[l(c,{label:"L"},{default:a(()=>e[16]||(e[16]=[r("低 (7%)")])),_:1}),l(c,{label:"M"},{default:a(()=>e[17]||(e[17]=[r("中 (15%)")])),_:1}),l(c,{label:"Q"},{default:a(()=>e[18]||(e[18]=[r("高 (25%)")])),_:1}),l(c,{label:"H"},{default:a(()=>e[19]||(e[19]=[r("最高 (30%)")])),_:1})]),_:1},8,["modelValue"])]),_:1}),l(_,{label:"边距"},{default:a(()=>[l(E,{modelValue:k.value,"onUpdate:modelValue":e[11]||(e[11]=o=>k.value=o),min:0,max:10,step:1,"show-input":""},null,8,["modelValue"])]),_:1})]),_:1})])]}),_:1})]),_:1}),l(T,{span:10},{default:a(()=>[l(S,{class:"qr-preview-card"},{header:a(()=>[s("div",ce,[e[22]||(e[22]=s("span",null,"二维码预览",-1)),l(h,{type:"success",onClick:H,disabled:!i.value},{default:a(()=>e[21]||(e[21]=[r("下载")])),_:1},8,["disabled"])])]),default:a(()=>[s("div",_e,[Z(s("canvas",{ref_key:"qrCanvas",ref:y},null,512),[[le,i.value]]),i.value?(p(),m("img",{key:0,src:i.value,alt:"二维码",style:{display:"none"}},null,8,fe)):(p(),ee(R,{key:1,description:"请输入内容生成二维码"}))])]),_:1})]),_:1})]),_:1})])}}}),qe=te(Ve,[["__scopeId","data-v-ea594dc9"]]);export{qe as default};
