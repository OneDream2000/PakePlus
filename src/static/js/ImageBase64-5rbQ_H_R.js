import{B as q}from"./@element-plus-Jg8JddYh.js";import{E as j}from"./element-plus-DSYtu8UA.js";import{d as Q,r as v,k as I,c as R,P as a,H as t,ag as d,o as m,G as w,J as _,a as n,u as X,M as F,L as i}from"./@vue-ECGHl1WJ.js";import{_ as Y}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./lodash-es-S0Y0Up6J.js";import"./@vueuse-BHHO-e4v.js";import"./@sxzz-D_chPuIy.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BKgQ9mV9.js";import"./crypto-js-BfKzHq-Y.js";import"./async-validator-9PlIezaS.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@floating-ui-hUPcw3xl.js";const Z={class:"tool-container"},h={key:0,class:"upload-area"},ee={key:1,class:"preview-container"},le=["src"],ae={key:0,class:"image-info"},te={class:"button-group"},oe={class:"copy-button"},ne={class:"copy-button"},ue={class:"copy-button"},se={class:"copy-button"},re={class:"decoded-image-container"},de=["src"],ie={class:"image-actions"},me=Q({__name:"ImageBase64",setup(pe){const S=v("encode"),f=v(""),C=v(null),y=v(null),u=v(""),s=v(""),T=v("dataUri"),V=v(""),c=v(""),z=I(()=>u.value?u.value:""),D=I(()=>u.value&&u.value.split(",")[1]||""),$=I(()=>u.value?`.element {
  background-image: url(${u.value});
}`:""),L=I(()=>u.value?`<img src="${u.value}" alt="Base64 encoded image" />`:""),A=l=>{if(!l){U();return}if(C.value=l.raw,!l.raw.type.startsWith("image/")){s.value="请选择图片文件",U();return}if(l.raw.size>5*1024*1024){s.value="图片大小不能超过 5MB",U();return}s.value="",f.value=URL.createObjectURL(l.raw);const e=new FileReader;e.onload=g=>{var r;const b=new Image;b.onload=()=>{y.value={name:l.raw.name,size:O(l.raw.size),dimensions:`${b.width} × ${b.height}`}},b.src=(r=g.target)==null?void 0:r.result},e.readAsDataURL(l.raw),M()},O=l=>l<1024?l+" B":l<1024*1024?(l/1024).toFixed(2)+" KB":(l/(1024*1024)).toFixed(2)+" MB",M=()=>{if(!C.value){s.value="请先选择图片";return}const l=new FileReader;l.onload=e=>{var g;u.value=(g=e.target)==null?void 0:g.result},l.onerror=()=>{s.value="图片编码失败，请重试"},l.readAsDataURL(C.value)},U=()=>{f.value&&URL.revokeObjectURL(f.value),f.value="",C.value=null,y.value=null,u.value="",s.value=""},x=async l=>{if(l)try{await navigator.clipboard.writeText(l),j.success("复制成功")}catch{j.error("复制失败，请手动复制")}},W=()=>{if(!V.value){s.value="请输入Base64字符串";return}s.value="";try{let l=V.value.trim();l.startsWith("data:")||(l=`data:image/png;base64,${l}`),c.value=l}catch{s.value="Base64解码失败，请检查输入是否正确",c.value=""}},G=()=>{V.value="",c.value="",s.value=""},J=()=>{if(!c.value)return;const l=document.createElement("a");l.href=c.value,l.download=`decoded-image-${new Date().getTime()}.png`,document.body.appendChild(l),l.click(),document.body.removeChild(l)};return(l,e)=>{const g=d("el-icon"),b=d("el-upload"),r=d("el-form-item"),p=d("el-button"),E=d("el-divider"),B=d("el-input"),k=d("el-tab-pane"),N=d("el-tabs"),H=d("el-form"),K=d("el-alert"),P=d("el-card");return m(),R("div",Z,[a(P,{class:"tool-card"},{header:t(()=>e[11]||(e[11]=[n("div",{class:"card-header"},[n("h2",null,"图片 Base64 编码/解码工具")],-1)])),default:t(()=>[a(N,{modelValue:S.value,"onUpdate:modelValue":e[10]||(e[10]=o=>S.value=o),class:"main-tabs"},{default:t(()=>[a(k,{label:"图片转Base64",name:"encode"},{default:t(()=>[a(H,null,{default:t(()=>[a(r,null,{default:t(()=>[a(b,{class:"image-uploader",action:"#","auto-upload":!1,"show-file-list":!1,"on-change":A,accept:"image/*"},{default:t(()=>[f.value?(m(),R("div",ee,[n("img",{src:f.value,class:"preview-image"},null,8,le),y.value?(m(),R("div",ae,[n("div",null,F(y.value.name),1),n("div",null,F(y.value.size),1),n("div",null,F(y.value.dimensions),1)])):_("",!0)])):(m(),R("div",h,[a(g,{class:"upload-icon"},{default:t(()=>[a(X(q))]),_:1}),e[12]||(e[12]=n("div",{class:"upload-text"},"点击或拖拽图片到此处",-1))]))]),_:1})]),_:1}),f.value?(m(),w(r,{key:0},{default:t(()=>[n("div",te,[a(p,{type:"primary",onClick:M},{default:t(()=>e[13]||(e[13]=[i("生成 Base64")])),_:1}),a(p,{onClick:U},{default:t(()=>e[14]||(e[14]=[i("清空")])),_:1})])]),_:1})):_("",!0),u.value?(m(),w(E,{key:1,"content-position":"center"},{default:t(()=>e[15]||(e[15]=[i("Base64 编码结果")])),_:1})):_("",!0),u.value?(m(),w(N,{key:2,modelValue:T.value,"onUpdate:modelValue":e[8]||(e[8]=o=>T.value=o),class:"result-tabs"},{default:t(()=>[a(k,{label:"Data URI",name:"dataUri"},{default:t(()=>[a(r,null,{default:t(()=>[a(B,{modelValue:z.value,"onUpdate:modelValue":e[0]||(e[0]=o=>z.value=o),type:"textarea",rows:4,placeholder:"Data URI 格式",readonly:""},null,8,["modelValue"]),n("div",oe,[a(p,{type:"primary",size:"small",onClick:e[1]||(e[1]=o=>x(z.value))},{default:t(()=>e[16]||(e[16]=[i("复制")])),_:1})])]),_:1})]),_:1}),a(k,{label:"CSS",name:"css"},{default:t(()=>[a(r,null,{default:t(()=>[a(B,{modelValue:$.value,"onUpdate:modelValue":e[2]||(e[2]=o=>$.value=o),type:"textarea",rows:4,placeholder:"CSS 代码",readonly:""},null,8,["modelValue"]),n("div",ne,[a(p,{type:"primary",size:"small",onClick:e[3]||(e[3]=o=>x($.value))},{default:t(()=>e[17]||(e[17]=[i("复制")])),_:1})])]),_:1})]),_:1}),a(k,{label:"HTML",name:"html"},{default:t(()=>[a(r,null,{default:t(()=>[a(B,{modelValue:L.value,"onUpdate:modelValue":e[4]||(e[4]=o=>L.value=o),type:"textarea",rows:4,placeholder:"HTML 代码",readonly:""},null,8,["modelValue"]),n("div",ue,[a(p,{type:"primary",size:"small",onClick:e[5]||(e[5]=o=>x(L.value))},{default:t(()=>e[18]||(e[18]=[i("复制")])),_:1})])]),_:1})]),_:1}),a(k,{label:"纯 Base64",name:"base64"},{default:t(()=>[a(r,null,{default:t(()=>[a(B,{modelValue:D.value,"onUpdate:modelValue":e[6]||(e[6]=o=>D.value=o),type:"textarea",rows:4,placeholder:"纯 Base64 编码",readonly:""},null,8,["modelValue"]),n("div",se,[a(p,{type:"primary",size:"small",onClick:e[7]||(e[7]=o=>x(D.value))},{default:t(()=>e[19]||(e[19]=[i("复制")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])):_("",!0)]),_:1})]),_:1}),a(k,{label:"Base64转图片",name:"decode"},{default:t(()=>[a(H,null,{default:t(()=>[a(r,null,{default:t(()=>[a(B,{modelValue:V.value,"onUpdate:modelValue":e[9]||(e[9]=o=>V.value=o),type:"textarea",rows:6,placeholder:"请输入Base64字符串（可以是完整的Data URI或纯Base64编码）"},null,8,["modelValue"])]),_:1}),a(r,null,{default:t(()=>[a(p,{type:"primary",onClick:W},{default:t(()=>e[20]||(e[20]=[i("解码并预览")])),_:1}),a(p,{onClick:G},{default:t(()=>e[21]||(e[21]=[i("清空")])),_:1})]),_:1}),c.value?(m(),w(E,{key:0,"content-position":"center"},{default:t(()=>e[22]||(e[22]=[i("预览结果")])),_:1})):_("",!0),c.value?(m(),w(r,{key:1},{default:t(()=>[n("div",re,[n("img",{src:c.value,class:"decoded-image"},null,8,de),n("div",ie,[a(p,{type:"primary",size:"small",onClick:J},{default:t(()=>e[23]||(e[23]=[i("下载图片")])),_:1})])])]),_:1})):_("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"]),s.value?(m(),w(K,{key:0,title:s.value,type:"error","show-icon":"",closable:!1},null,8,["title"])):_("",!0)]),_:1})])}}}),Ie=Y(me,[["__scopeId","data-v-9d0f344d"]]);export{Ie as default};
